---
import Navigation from './Navigation.jsx';

import { getProducts } from '@/data/request';
import { SearchBar } from './SearchBar';

const productsDB = await getProducts();

const products = productsDB?.map(({ id, nombre }) => ({
	id, nombre
}));
---

<header class="flex flex-col">
	<div
		class="flex items-center justify-between gap-4 bg-gris-oscuro p-5 sm:gap-0"
	>
		<a href="/">
			<img class="max-h-8" src="/assets/images/Logo.png" alt="Logo" />
		</a>
		<div class="flex w-3/4 gap-4 sm:gap-8">
			<SearchBar products={products} client:visible />
			<a
				class="group hidden w-36 items-center gap-x-2 sm:flex"
				href="/auth/login"
			>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					fill="none"
					class="size-5"
					viewBox="0 0 30 30"
					><g class="fill-white transition-colors group-hover:fill-sky-500"
						><path
							d="M15.2 0a15 15 0 1 0-.4 30 15 15 0 0 0 .4-30Zm9.1 23.6a.3.3 0 0 1-.4 0 9 9 0 0 0-2.3-2.2 12.2 12.2 0 0 0-6.6-1.8c-2.4 0-4.7.7-6.5 1.8A9 9 0 0 0 6 23.7a.3.3 0 0 1-.3-.1A12.6 12.6 0 0 1 15 2.3a12.7 12.7 0 0 1 9.3 21.3Z"
						></path><path
							d="M15.2 6.1c-1.5 0-2.7.5-3.7 1.4a4 4 0 0 0-1.2 3.3 5 5 0 0 0 4.9 4.5 5 5 0 0 0 4.9-4.5 4 4 0 0 0-1.3-3.3c-1-.9-2.2-1.4-3.6-1.4Z"
						></path></g
					></svg
				>
				<span class="transition-colors group-hover:text-sky-500">Mi Cuenta</span
				>
			</a>
			<a class="group flex h-10 items-center" href="/">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					fill="none"
					class="size-5"
					viewBox="0 0 33 34"
					><path
						class="fill-white transition-colors group-hover:fill-morado-primario"
						d="M11 34c1.3 0 2.3-1.3 2.3-2.8 0-1.6-1-2.8-2.4-2.8-1.3 0-2.4 1.2-2.4 2.8 0 1.5 1 2.7 2.4 2.7Zm16.9 0c1.3 0 2.4-1.3 2.4-2.8 0-1.6-1-2.8-2.4-2.8s-2.4 1.2-2.4 2.8c0 1.5 1 2.7 2.4 2.7ZM10.3 21.5H30L33 5H7.7l-.6-4H0v2.7h5L8.7 27h21.6v-2.7H10.7l-.4-2.8Z"
					></path></svg
				>
				<div class="mb-5 rounded-full bg-sky-500 px-1 py-0.5 text-xs">
					<span>+99</span>
				</div>
			</a>
		</div>
	</div>
	<Navigation client:visible />
</header>
